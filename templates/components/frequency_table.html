<!-- Frequency Table Component -->
<div
    style="display: flex; justify-content: space-between; align-items: center; margin-top: 1.5rem; margin-bottom: 0.5rem;">
    <h4 id="section-frequency" style="margin: 0; font-weight: 700;">ğŸ“Š íŒŒì¼ë³„ ë“±ê¸‰ ë¹ˆë„í‘œ</h4>
    <div>
        <button type="button" class="outline contrast"
            onclick="downloadTableAsCsv('frequency-table', 'frequency_stats.csv')"
            style="padding: 6px 16px; font-size: 0.85rem; margin-bottom: 0; margin-right: 0.5rem;">
            ğŸ’¾ CSVë¡œ ë‹¤ìš´ë¡œë“œ
        </button>
        <button type="button" class="outline contrast" onclick="copyTableText('frequency-table')"
            style="padding: 6px 16px; font-size: 0.85rem; margin-bottom: 0;">
            ğŸ“‹ í…ìŠ¤íŠ¸ë¡œ ë³µì‚¬
        </button>
    </div>
</div>

<div style="margin-bottom: 1.5rem; overflow-x: auto; text-align: center;">
    <table id="frequency-table" role="grid" style="text-align: center; width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 1px solid var(--muted-border-color);">
                <th style="padding: 10px; min-width: 120px;">íŒŒì¼ëª…</th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#10b981; color:#fff; padding:4px 12px; white-space:nowrap;">1ê¸‰</span>
                </th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#3b82f6; color:#fff; padding:4px 12px; white-space:nowrap;">2ê¸‰</span>
                </th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#8b5cf6; color:#fff; padding:4px 12px; white-space:nowrap;">3ê¸‰</span>
                </th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#f59e0b; color:#fff; padding:4px 12px; white-space:nowrap;">4ê¸‰</span>
                </th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#ef4444; color:#fff; padding:4px 12px; white-space:nowrap;">5ê¸‰</span>
                </th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#64748b; color:#fff; padding:4px 12px; white-space:nowrap;">6ê¸‰</span>
                </th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#94a3b8; color:#fff; padding:4px 12px; white-space:nowrap;">ë“±ê¸‰
                        ì—†ìŒ</span></th>
                <th style="padding: 10px;"><span
                        style="display:inline-block; border-radius:12px; background-color:#475569; color:#fff; padding:4px 12px; white-space:nowrap;">ê¸°íƒ€</span>
                </th>
                <th style="padding: 10px; border-left: 2px solid var(--muted-border-color);">
                    <span
                        style="display:inline-block; border-radius:12px; background-color: #000; color: #fff; padding:4px 12px; white-space:nowrap; font-weight: 900;">í•©ê³„</span>
                </th>
            </tr>
        </thead>
        <tbody>
            {% for item in file_stats_list %}
            <tr style="font-size: 1.1rem; border-bottom: 1px solid rgba(0,0,0,0.05);">
                <td style="padding: 10px; font-weight:bold; color:var(--color-primary); white-space: nowrap; max-width: 150px; overflow: hidden; text-overflow: ellipsis;"
                    title="{{ item.filename }}">{{ item.filename }}</td>
                <td style="padding: 10px;">{{ item.stats['1ê¸‰'] }}</td>
                <td style="padding: 10px;">{{ item.stats['2ê¸‰'] }}</td>
                <td style="padding: 10px;">{{ item.stats['3ê¸‰'] }}</td>
                <td style="padding: 10px;">{{ item.stats['4ê¸‰'] }}</td>
                <td style="padding: 10px;">{{ item.stats['5ê¸‰'] }}</td>
                <td style="padding: 10px;">{{ item.stats['6ê¸‰'] }}</td>
                <td style="padding: 10px;">{{ item.stats['ë“±ê¸‰ ì—†ìŒ'] }}</td>
                <td style="padding: 10px;">{{ item.stats['ê¸°íƒ€'] }}</td>
                <td style="padding: 10px; border-left: 2px solid var(--muted-border-color); font-weight: bold;">{{
                    item.stats['ì „ì²´'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div style="font-size: 0.9rem; color: var(--color-text-muted); margin-bottom: 2rem; text-align: left; padding: 0 1rem;">
    <p style="margin: 0.2rem 0;">* <strong>í•©ê³„</strong>: ë¬¸ì¥ ë¶€í˜¸ë¥¼ ì œì™¸í•œ ì „ì²´ ë‹¨ì–´ ìˆ˜ (ìˆ«ì í¬í•¨)</p>
    <p style="margin: 0.2rem 0;">* <strong>ê¸°íƒ€</strong>: ë¬¸ì¥ ë¶€í˜¸, ìˆ«ì ë“± ë¶„ì„ ëŒ€ìƒ ì™¸ í…ìŠ¤íŠ¸</p>
</div>

<!-- Functions for table actions (if not present globally, though grade.html has them at bottom. We might need to ensure generate.html has them) -->
<!-- We assume copyTableText and downloadTableAsCsv are global or included in the page script -->