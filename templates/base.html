<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>&lt;í•œê²°&gt; - ì™¸êµ­ì–´ë¡œì„œì˜ í•œêµ­ì–´ êµì¬ ê°œë°œìë¥¼ ìœ„í•œ ì˜ˆë¬¸ ë° ë¬¸ì œ ìƒì„±</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">

  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>

  <header class="container">
    <nav>
      <ul>
        <li><a href="{{ url_for('main.index') }}" class="logo"><strong>&lt;í•œê²°&gt;</strong></a></li>
      </ul>
      <ul>
        <li><a href="{{ url_for('main.index') }}">ë©”ì¸</a></li>
        <li><a href="{{ url_for('main.grade') }}">ë¶„ì„</a></li>
        <li><a href="{{ url_for('main.generate') }}">ìƒì„±</a></li>
        <li><a href="{{ url_for('main.quiz') }}">í€´ì¦ˆ</a></li>
        <li>
          <button id="theme-toggle" class="outline contrast"
            style="padding: 4px 10px; font-size: 0.8rem; border-radius: 20px; border: 1px solid var(--muted-border-color); background: transparent; color: var(--color-text-muted);">
            ğŸŒ™
          </button>
        </li>
      </ul>
      </ul>
    </nav>
  </header>

  <script>
    // Theme Toggle Logic
    const toggleBtn = document.getElementById('theme-toggle');
    const html = document.documentElement;

    // 1. Initialize
    const savedTheme = localStorage.getItem('theme') || 'light';
    html.setAttribute('data-theme', savedTheme);
    updateIcon(savedTheme);

    // 2. Toggle Event
    toggleBtn.addEventListener('click', () => {
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';

      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateIcon(newTheme);
    });

    function updateIcon(theme) {
      if (theme === 'dark') {
        toggleBtn.innerText = 'â˜€ï¸'; // Show Sun in Dark Mode
        toggleBtn.style.color = '#fbbf24';
        toggleBtn.style.borderColor = '#fbbf24';
      } else {
        toggleBtn.innerText = 'ğŸŒ™'; // Show Moon in Light Mode
        toggleBtn.style.color = '#64748b';
        toggleBtn.style.borderColor = '#cbd5e1';
      }
    }
  </script>

  <main class="container">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="notice">
      {% for message in messages %}
      <p>ğŸ’¡ {{ message }}</p>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>

  <footer class="container footer">
    <small></small>
  </footer>
</body>

</html>